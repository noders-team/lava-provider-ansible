### Provider variables ###

# Binary path and name
LAVA_BINARY="{{ lava_binary.name }}"
PATH="/usr/local/go/bin:${PATH}"
GOPATH="{{ ansible_env.HOME }}/go"
GO111MODULE="on"

# Enable or disable cache based on requirements.
CACHE_ENABLE="{{ lava_provider_config.cache.enable | lower }}"
{% if lava_provider_config.cache.enable %}
CACHE_ADDRESS="{{ lava_provider_config.cache.address }}"
CACHE_PORT="{{ lava_provider_config.cache.port }}"
{% endif %}

# Chain and network configuration
CHAIN_ID="{{ lava_provider_config.chain_id }}"
CONFIG_PATH="{{ lava_config_dir }}"
GEOLOCATION="{{ lava_provider_config.geolocation }}"

# Wallet configuration
WALLET="{{ lava_provider_config.wallet.name }}"
KEYRING_BACKEND="{{ lava_provider_config.wallet.keyring_backend }}"
{% if lava_provider_config.wallet.password %}
WALLET_PASSWORD="{{ lava_provider_config.wallet.password }}"
{% endif %}

# Logging and metrics
LOGLEVEL="{{ lava_provider_config.log_level }}"
METRICS_PORT="{{ lava_provider_config.ports.metrics }}"
GRPC_PORT="{{ lava_provider_config.ports.grpc }}"

# Node identification
MONIKER="{{ lava_provider_config.moniker }}"
REWARDS_STORAGE_DIR="{{ lava_provider_config.rewards_storage_dir }}"

# Network configuration
PUBLIC_RPC="{{ lava_provider_config.public_rpc_url.split(':443')[0] }}"
TOTAL_CONNECTIONS="{{ lava_provider_config.total_connections }}"

# Health check configuration
HEALTH_CHECK_ENABLED="true"
HEALTH_CHECK_INTERVAL="60s"
HEALTH_CHECK_TIMEOUT="10s"
HEALTH_CHECK_MAX_LATENCY="5s"